{% extends "base.html" %}
{% import 'partical/photography.html' as photography %}
{% import 'partical/memos.html' as memos %}

{% block title %}
{{ super() }} | {{ page.title }}
{% endblock title %}

{% block ogtitle %}{{ super() }} | {{ page.title }}{% endblock ogtitle %}
{% block ogurl %}{{ page.permalink | safe }}{% endblock ogurl %}

{% block content %}
{% if page.path == '/memos/' %}
<div class="memos-scroll">
</div>
<p class="text-center" style="margin: 12px 0;">看完了，没有啦 😝</p>
{% elif page.path == '/photography/' %}
{{ photography::main() }}
<p class="text-center" style="margin: 12px 0;">View more on <a
        href="https://unsplash.com/@{{ config.extra.willow.photography.unsplash_author }}" target="_blank">unsplash</a>
</p>
{% elif page.path == '/projects/' %}
{{ projects::main() }}
{% else %}
<div class="card card-lg">
    <div class="card-body markdown">
        <div class="">
            {% set page_path = page.path | split(pat="/") %}
            {% if 'posts' in page_path %}
            <div class="d-flex justify-content-between" style="margin-bottom: 18px;">
                <div>{{ page.date | date(format="%Y-%m-%d") }}</div>
                {% if page.taxonomies.tags %}
                <i class="fas fa-tags"></i>
                <ul class="list-inline list-inline-dots mb-0">
                    {% for tag in page.taxonomies.tags %}
                    <li class="list-inline-item">
                        <a class="tag"
                            href="{{ get_taxonomy_url(kind='tags', name=tag, lang=page.lang) | safe }}">#{{tag}}</a>
                    </li>
                    {% endfor %}

                </ul>
                {% endif %}
            </div>
            {% endif %}

            <h1>{{ page.title | safe }}</h1>
            <p>{{ page.content | safe }}</p>

            {% if 'posts' in page_path %}
    <head>
        <!-- ... -->
        <link
          rel="stylesheet"
          href="https://unpkg.com/@waline/client@v2/dist/waline.css"
        />
        <!-- ... -->
      </head>
      <body>
        <!-- ... -->
        <div id="waline"></div>
        <script type="module">
          import { init } from 'https://unpkg.com/@waline/client@v2/dist/waline.mjs';
      
          init({
            el: '#waline',
            comment: false,
            serverURL: 'https://waline.shixiaocaia.fun/',
            emoji: [
                '/img/blobs-png/',
            ],
          });
        </script>
        <style>
            .waline-container {
                background-color: var(--card-background);
                border-radius: var(--card-border-radius);
                box-shadow: var(--shadow-l1);
                padding: 3%; /*缩小边距*/
         
            }
            .waline-container .vcount {
                color: var(--card-text-color-main);
            }
         
            /*日间模式*/
            :root{
                --waline-theme-color: #34495e; /*主题色，提交按钮*/
                --waline-active-color: #bababa; /*鼠标移到提交按钮上的颜色*/
                --waline-badge-color: #34495e; /*博主徽章色*/
                --waline-avatar-size: 3rem;
                --waline-dark-grey: #34495e; /*ID颜色*/
         
                  }
         
             .v[data-class=v] .vcard .vhead .vnick {
             position: relative;
             display: inline-block;
             margin-right: 0.8em;
             font-weight: bold;
             font-size: .875em;
             line-height: 1.5;
             text-decoration: none;
         }
         
         .v[data-class=v] .vcards .vitem .vuser {
             width: 2em;
             height: 2em;}
         
         @media (max-width: 720px)
         .v[data-class=v] .vcards .vitem .vuser {
             width: 2em;
             height: 2em;
         }
         
         .v[data-class=v] .vcard .vquote .vuser {
             width: 2em;
             height: 2em;
         }
         
         .v[data-class=v] .vcontent .vemoji {
             display: inline-block;
             vertical-align: middle;
             width: 2em;
             margin: .25em;
         }
         
         .v[data-class=v] .vcard .vhead .vnick svg {
             display: none;
           }
         
         .v[data-class=v] .vcard .vhead .vbadge {
             display: none;
         }
              
         
            }
         </style>
      </body>
      
            {% endif %}
        </div>
    </div>
</div>
{% endif %}
{% endblock content %}


{% block scripts %}
{% if page.path == '/memos/' %}
{{ memos::load() }}
{% endif %}
{% endblock %}
